{% extends 'inqpal/base.html'%}
{% load staticfiles %}

{% block head_block %}
    <link rel = "stylesheet" href="{% static 'css/display_post.css' %}" />
{% endblock %}

{% block body_block %}
    <div>
        <h1>{{type}}</h1>
    </div>

    <div>
        {% if posts %}
            {% for post in posts %}
                <div class="post_display">
                    {% if post.post.image %}
                        <img src="{{post.post.image}}">
                    {% endif %}
                    <ul>
                        <li><strong>{{post.post.creator}}</strong></li>
                        <li>#{{post.post.category}}</li>
                        <li>{{post.post.date}}</li>
                        <li>{{post.post.text}}</li>
                        <li><button>ðŸ¦–</button> {{post.roars}}</li>
                        {% if post.comments %}
                            <ul>
                                {% for comment in post.comments %}
                                    <li><div class="comment_display">
                                        <strong>{{comment.creator}}</strong>
                                        {{comment.text}}
                                    </div></li>
                                {% endfor %}
                            </ul>
                        {% endif %}
                        <li>
                            <form id = 'post_form' method="POST" action="{% url type %}" enctype="multipart/form-data">
                                {% csrf_token %}
                                <textarea type="text" name='text' id='text_input' rows="20" maxlength="2000" placeholder = "Comment Here" required="required"></textarea>
                                <input type="submit" name = "submit" value = "post" required="required" id = 'comment_button'/>
                            </form>
                        </li>type
                </ul>
                </div>
            {% endfor %}
        {% else %}
            <strong>Error: No posts to show!</strong>
        {% endif %}
    </div>
{% endblock %}